indeedOss.activateFeature 'library'
indeedLibrary.name = 'proctor-store'

dependencies {
    implementation project(':proctor-common')
    implementation libs.commonsIo
    implementation libs.guava
    implementation libs.commonsLang
    implementation libs.jacksonCore
    implementation libs.jacksonDatabind
    implementation libs.log4jApi
    implementation libs.log4jCore
    implementation libs.annotationApi
    compileOnly libs.jsr305
    implementation 'com.indeed:util-core:1.0.49-1cfb888'
    implementation 'com.indeed:util-varexport:1.0.49-1cfb888'
    testImplementation libs.junit
    testImplementation libs.assertj
    testImplementation libs.easymock
    testImplementation libs.easymockclassext
    testImplementation libs.annotationApi
    testImplementation libs.mockito
    testImplementation libs.jsr305
}

tasks.named("test").configure { dependsOn(":proctor-common:shadowJar") }

publishing {
    publications {
        mavenJavaStore(MavenPublication) {
            groupId = 'com.indeed'
            artifactId = 'proctor-store' // use the name from ext['indeed.publish.name']
            version = '9999-SNAPSHOT' // use whatever version makes sense for your project

            from components.java
        }
    }
}