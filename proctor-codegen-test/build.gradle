/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'com.indeed.java-conventions'
    id 'groovy'
}

dependencies {
    api gradleApi()
    implementation localGroovy()
    implementation project(':proctor-codegen')
    implementation project(':proctor-builder')
    implementation 'org.apache.maven.plugin-tools:maven-plugin-annotations:3.2'
    implementation 'org.apache.maven:maven-plugin-api:3.1.0'
    implementation 'org.apache.maven:maven-core:3.1.0'
    testImplementation project(':proctor-consumer')
    testImplementation 'javax.servlet:javax.servlet-api:3.0.1'
}

description = 'proctor-codegen-test'

java {
    withJavadocJar()
}

sourceSets {
    main {
        java { srcDirs = [] }    // no source dirs for the java compiler
        groovy { srcDirs = ["src/main/java", "src/main/groovy"] }  // compile   everything in src/ with groovy
    }
}

compileTestJava.dependsOn(compileGroovy)

tasks.create("generateJava", JavaProctorTestMojo) { }