indeedOss.activateFeature 'library'
indeedLibrary.name = 'proctor-tomcat-deps'

dependencies {
    api libs.tomcatElApi
    api libs.tomcatJasperEl
}

task editPom(type: Exec) {
    commandLine './editPom.sh'
}

task generatePomFileForPubNamePublication {
    finalizedBy editPom
}

editPom.mustRunAfter tasks.withType(GenerateMavenPom)

tasks.withType(PublishToMavenRepository).all { dependsOn editPom }

jar {
    exclude('org.apache.tomcat:tomcat-el-api', 'org.apache.tomcat:tomcat-jasper-el')
}
